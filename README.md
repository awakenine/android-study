РАЗБОР УЯЗВИМОСТЕЙ АНДРОЙД ПРИЛОЖЕНИЙ
=====================================

1. Использование HTTP протокола
-------------------------------
**Возможные последствия:** передаваемые данные, такие как номера счетов, логины и пароли пользователей могут быть похищены злоумышленником.

 ![http-vulnerability][github]

**Решение:** Стоит шифровать передаваемые данные используя защищенный __HTTPS__ протокол


2. Flawed Broadcast Receivers
-----------------------------
**Описание:**
Данная уязвимость позволяет вредоносному приложению передавать данные между приложением и устройством.

**Возможные последствия:** Приложение злоумышленника, при установке на устройство жертвы, может отправить жертве смс сообщение от имени уязвимого приложения.

![flawed-broadcast-vulnerability][github 2]

**Решение:** Broadcast Receivers должны быть не импортируемые. В случае необходимости импорта создать белый лист с разрешенными приложениями.

3. Intent Sniffing and Injection
--------------------------------
**Описание:**
Данная уязвимость позволяет злоумышленнику перехватывать данные передаваемые между приложением и устройством.

**Возможные последствия:** Приложение злоумышленника, при установке на устройство жертвы, может перехватить смс сообщения об успешной смене пароля атакуемого приложения и отправить их злоумышленнику.

![intent-sniffing-and-injection-vulnerability][github 3]

**Решение:** Broadcast Receivers должны быть не импортируемые. В случае необходимости импорта создать белый лист с разрешенными приложениями.

4. Insufficient Cryptography
--------------------------------

**Описание:**
Приложение хранит логин и пароль пользователя на устройстве в зашифрованном виде. Для шифрования используется симметричный алгоритм AES256.
Путь к файлу:
>/data/data/com.android.insecurebankv2/shared_prefs/mySharedPreferences.xml

![weak-cryptography-vulnerability][github 4]

**Возможные последствия:** Злоумышленник может расшифровать логин и пароль если получит доступ к файлу


**Решение:** Не хранить конфиденциальную информацию на устройстве вместе с ключом. По возможности стоит использовать ассиметричное шифрование и хранить приватный ключ на сервере.

5. Vulnerable Activity Components
---------------------------------

**Описание:**
Данная уязвимость позволяет обойти авторизацию, переключившись сразу на необходимую активность, например, смену пароля или перевод средств.

![vulnerable-activity-components-listvulnerability][github 5]

**Возможные последствия:** Используя уязвимость злоумышленник может обойти авторизацию.


**Решение:** Ограничить доступ к Activity Components, кроме LoginActivity, до момента пока пользователь не введет корректные имя пользователя и пароль.



6. Extraneous Functionality (Developer backdoor)
------------------------------------------------

**Описание:** Забытые разработчиками бэкдоры.

**Возможные последствия:** Используя зашитый в код логин возможна авторизация без пароля.

![dev-backdoor][github 6]

**Решение:** Убрать из кода зашитый логин 


7. Root Detection and Bypass
----------------------------

**Описание:** Возможно обойти обнаружение рута приложением на устройстве.

**Возможные последствия:** Атакующий может выполнять статический и динамический анализ приложения, что поможет найти большее количество уязвимостей. Рутированное устройство может позволить вредоносным приложениям или злоумышленникам выполнять действия в качестве пользователя root, что ставит под угрозу безопасность всех приложений, запущенных на телефоне.

![root-bypass][github 7]

**Решение:** Использовать более сложные методы для обнаружения root. Статья: [Техники обнаружения root.](https://blog.netspi.com/android-root-detection-techniques/)


8. Insecure Content Provider access
-----------------------------------

**Описание:** Данная уязвимость позволяет просмотреть историю авторизации в приложении.

![content-provider][github 8]

**Возможные последствия:** Вредоносное приложение может украсть логины пользоватей которые авторизировали с атакуемого устройства.

**Решение:** Сделать методы Content Provider доступными для вызова только самому приложению.

9. Application Patching
-----------------------
**Описание:** Приложение содержит скрытую функциональность создания учетной записи которая доступна в версии приложения для администратора.

**Возможные последствия:** Данная функциональность может быть включена злоумышленником, при помощи дизассемблирования приложения и изменения xml файла, с целью создание себе учетной записи.

![patched-app][github 9]

**Решение:** Удалить функциональность создания пользователей из приложения предназначенного не для администатора

10. Sensitive Information in Memory
-----------------------------------

**Описание:** Приложение хранит в памяти конфиденциальные данные пользователей. 

![heap-dump][github 10]

**Возможные последствия:** Злоумышленник может заполучть данные пользователя прочитав сделав дамп кучи приложения.

**Решение:** По возможности не хранить конфиденциальные данные пользователей в heap.

[github]: https://raw.githubusercontent.com/awakenine/android-study/master/pictures/http.png


[github 2]: https://raw.githubusercontent.com/awakenine/android-study/master/pictures/Selection_123.png

[github 3]: https://raw.githubusercontent.com/awakenine/android-study/14f2648b9ca3d39aa0eb0df463341c617ba87034/pictures/image.png

[github 4]: https://raw.githubusercontent.com/awakenine/android-study/master/pictures/image.png

[github 5]: https://github.com/awakenine/android-study/blob/master/pictures/activities.png?raw=true 

[github 6]: https://github.com/awakenine/android-study/blob/master/pictures/backdoor.png?raw=true 

[github 7]: https://github.com/awakenine/android-study/blob/master/pictures/not%20rooted.png?raw=true

[github 8]: https://github.com/awakenine/android-study/blob/master/pictures/content%20provider%20exploit.png?raw=true

[github 9]: https://github.com/awakenine/android-study/blob/master/pictures/patched%20app.png?raw=true

[github 10]: https://github.com/awakenine/android-study/blob/master/pictures/reading%20memory.png?raw=true


